<configuration debug="true">

    <property name="LOG_HOME" value="/Users/milton/jvmxray-agent/logs" />
    <property name="MSG_FMT_SM" value="%d{YYYY.MM.dd 'at' HH:mm:ss z} | %logger{1} | %X | %5level | %msg%n" />
    <property name="MSG_FMT_LG" value="%d{YYYY.MM.dd 'at' HH:mm:ss.SSS z} | %logger | %X | %5level | %msg%n" />
    <property name="MSG_FMT_MACHINE" value="%d{yyyy-MM-dd'T'HH:mm:ss.SSS'Z', GMT},%thread,%X,%logger,%5level,%msg%n" />

    <appender name="console" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <pattern>${MSG_FMT_SM}</pattern>
        </encoder>
    </appender>

    <!-- Uncomment/configure for Cassandra testing -->
    <!-- todo: update for your cassndara server -->
    <!--
    <appender name="cassandra" class="org.jvmxray.appender.logback.JVMXRayCassandraAppender">
        <node>ip or host</node>
        <port>9042</port>
        <datacenter>datacenterx</datacenter>
        <user>cassandra</user>
        <password>cassandra</password>
    </appender>
    -->

    <!-- Receive security events from remote servers -->
    <!-- todo: update listening port for your server's socket receiver. -->
    <!-- BUG, logback 1.4.x bug. SocketReceiver configuration broken  https://jira.qos.ch/browse/LOGBACK-1743 -->
    <!--
    <receiver class="ch.qos.logback.classic.net.server.ServerSocketReceiver">
        <port>9876</port>
    </receiver>
    -->

    <!-- Send only JMVXRay events to the Cassandra appender.  Other events are rejected. -->
    <!-- Add additivity="false" to logger to block sending to console-->
    <!--
    <logger name="org.jvmxray.agent.driver.jvmxraysecuritymanager.events" level="WARN">
        <appender-ref ref="cassandra" />
    </logger>
    -->

    <root level="WARN">
        <appender-ref ref="console" />
    </root>

</configuration>
